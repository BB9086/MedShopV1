@model DeliveryDetailsViewModel

@{
    ViewData["Title"] = "Delivery Details Page";
}

<link href="~/css/breadcrumb.css" rel="stylesheet" />

<nav arial-label="breadcrumb" style="background-color:whitesmoke">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="@Url.Action("MyShoppingCart","Home")">Moja korpa</a></li>
        <li class="breadcrumb-item"><a href="@Url.Action("RezervacijaIPlacanje","Home", new { storeId = @ViewBag.StoreId})">Rezervacija</a></li>
        <li class="breadcrumb-item"><a href="@Url.Action("CreateCustomer","Home", new { storeId = @ViewBag.StoreId, shippingMethod = @ViewBag.ShippingMethod})">Podaci o kupcu</a></li>
        <li class="breadcrumb-item active">Podaci o porudžbini</li>
        <li class="breadcrumb-item">Potvrda porudžbine</li>
    </ol>
</nav>

<h1>Detalji narudžbine</h1>
<hr />

<form class="mt-3">

    <div class="form-group row">
        @*  <label asp-for="FirstName" class="col-lg-2 col-form-label"></label>*@
        <label class="col-lg-2 col-form-label">Ime:</label>
        <label asp-for="FirstName" id="lblFirstName" class="col-lg-10 col-form-label"></label>
    </div>

    <div class="form-group row">
        @*  <label asp-for="LastName" class="col-lg-2 col-form-label"></label>*@
        <label class="col-lg-2 col-form-label">Prezime:</label>
        <label asp-for="LastName" id="lblLastName" class="col-lg-10 col-form-label"></label>
    </div>

    <div class="form-group row">
        @*  <label asp-for="FirstName" class="col-lg-2 col-form-label"></label>*@
        <label class="col-lg-2 col-form-label">Email:</label>
        <label asp-for="Contact" id="lblContact" class="col-lg-10 col-form-label"></label>
    </div>

    <div class="form-group row">
        @*  <label asp-for="FirstName" class="col-lg-2 col-form-label"></label>*@
        <label class="col-lg-2 col-form-label">Adresa:</label>
        <label asp-for="Address" id="lblAddress" class="col-lg-10 col-form-label"></label>
    </div>

    <div class="form-group row">
        @*  <label asp-for="FirstName" class="col-lg-2 col-form-label"></label>*@
        <label class="col-lg-2 col-form-label">Grad:</label>
        <label asp-for="City" id="lblCity" class="col-lg-10 col-form-label"></label>
    </div>

     <div class="form-group row">
        @*  <label asp-for="FirstName" class="col-lg-2 col-form-label"></label>*@
        <label class="col-lg-2 col-form-label">Država:</label>
        <label asp-for="Country" id="lblCountry" class="col-lg-10 col-form-label"></label>
    </div>

    <div class="form-group row">
        @*  <label asp-for="FirstName" class="col-lg-2 col-form-label"></label>*@
        <label class="col-lg-2 col-form-label">Poštanski broj:</label>
        <label asp-for="ZipCode" id="lblZipCode" class="col-lg-10 col-form-label"></label>
    </div>

    <div class="form-group row">
        @*  <label asp-for="FirstName" class="col-lg-2 col-form-label"></label>*@
        <label class="col-lg-2 col-form-label">Telefonksi broj:</label>
        <label asp-for="TelephoneNumber" id="lblTelephoneNumber" class="col-lg-10 col-form-label"></label>
    </div>

    <div class="form-group row" style="font-weight:bold;">
        @*  <label asp-for="FirstName" class="col-lg-2 col-form-label"></label>*@
        <label class="col-lg-2 col-form-label">Ukupni račun:</label>
        <label id="lblTotalPrice" class="col-lg-10 col-form-label">@ViewBag.TotalPrice <span>RSD</span></label>
    </div>



</form>


<form method="post" class="mt-1">

    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="CustomerId" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="StoreId" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="ShippingMethod" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="FirstName" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="LastName" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="ZipCode" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="Contact" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="Address" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="Country" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="City" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <input asp-for="TelephoneNumber" class="form-control" hidden>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-10">
            <button type="submit" name="btnOrderProduct" value="@ViewBag.TotalPrice" id="btnOrderProduct" class="btn btn-primary" style="width:auto">
                Naručite proizvode
            </button>
        </div>
    </div>
</form>

@section Scripts{

    <script src="~/lib/signalr/dist/browser/signalr.min.js"></script>
    <script src="~/js/myHub.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            debugger
            var dataObj = JSON.parse(sessionStorage.getItem("customerInfo"));
            var firstName = dataObj.firstName;
            var lastName = dataObj.lastName;
            var telephoneNumber = dataObj.telephoneNumber;
            var zipCode = dataObj.zipCode;
            var address = dataObj.address;
            var country = dataObj.country;
            var city = dataObj.city;
            var shippingMethod = dataObj.shippingMethod;
            var storeId = dataObj.storeId;
            var contact = dataObj.contact;
            var totalPrice = $('#lblTotalPrice').text();

            $('#lblContact').text(contact);
            $('#lblAddress').text(address);
            $('#lblFirstName').text(firstName);
            $('#lblLastName').text(lastName);
            $('#lblCity').text(city);
            $('#lblCountry').text(country);
            $('#lblZipCode').text(zipCode);
            $('#lblTelephoneNumber').text(telephoneNumber);
       

            $('#StoreId').val(storeId);
            $('#ShippingMethod').val(shippingMethod);
            $('#FirstName').val(firstName);
            $('#LastName').val(lastName);
            $('#ZipCode').val(zipCode);


            $('#Contact').val(contact);
            $('#Address').val(address);
            $('#Country').val(country);
            $('#City').val(city);
            $('#TelephoneNumber').val(telephoneNumber);

            //$("#btnOrderProduct").on('click', function () {


            //    $.ajax({
            //        url: "https://localhost:44336/home/DeliveryDetails",
            //        method: 'post',
            //        data: { firstName: firstName, lastName: lastName, contact: contact, address: address, zipCode: zipCode, city: city, country: country, telephoneNumber: telephoneNumber, shippingMethod: shippingMethod, storeId: storeId, totalPrice: totalPrice },
            //        dataType: "json",
            //        success: function (data) {
            //        },
            //        error: function (err) {
            //            alert(err);
            //        }
            //    });
            //});

        });

    </script>
}

